{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","person","post","put","concat","id","delete","Notification","_ref","message","react_default","a","createElement","className","Filter","_ref2","filter","handler","value","onChange","Form","_ref3","submit","name","nameHandler","number","numberHandler","onSubmit","type","Persons","_ref4","rows","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","errorMessage","setErrorMessage","setError","msg","setTimeout","useEffect","personService","initial","App_Notification","App_Filter","event","target","App_Form","preventDefault","existing","find","p","toLowerCase","window","confirm","replacing","objectSpread","returned","newList","push","catch","error","App_Persons","includes","map","key","onClick","whatever","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c837e45c.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n    .then(response => response.data)\n}\n\nconst create = person => {\n  return axios.post(baseUrl, person)\n    .then(response => response.data)\n}\n\nconst update = (person) => {\n  return axios.put(`${baseUrl}/${person.id}`, person)\n    .then(response => response.data)\n}\n\nconst remove = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n  }\n\nexport default {getAll, create, update, remove}","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport './index.css'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nconst Filter = ({filter, handler}) => (\n  <p>Filter shown with <input \n      value={filter}\n      onChange={handler}\n  /></p>\n)\n\nconst Form = ({submit, name, nameHandler, number, numberHandler}) => (\n  <form onSubmit={submit}>\n  <div>\n    name: <input \n      value={name}\n      onChange={nameHandler} />\n  </div>\n  <div>\n    number: <input\n      value={number}\n      onChange={numberHandler} />\n  </div>\n  <div>\n    <button type=\"submit\">add</button>\n  </div>\n</form>\n)\n\nconst Persons = ({rows}) => (\n  <div>\n    {rows}\n  </div>\n)\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const setError = (msg) => {\n    setErrorMessage(msg)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initial => setPersons(initial))\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const existing = persons.find(p => p.name.toLowerCase() === newName.toLowerCase() )\n    if (!existing) {\n      const person = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(person)\n        .then(returned => {\n          setPersons(persons.concat(returned))\n          setNewName('')\n          setNewNumber('')\n          setError(`'${person.name}' added`)\n        })\n        .catch(error => setError(error.response.data.error))\n    } else {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old phone number with the new one?`)) {\n        const replacing = {...existing, number: newNumber}\n        personService\n          .update(replacing)\n          .then(returned => {\n            const newList = persons.filter(p => p.id !== existing.id)\n            newList.push(replacing)\n            setPersons(newList)\n            setNewName('')\n            setNewNumber('')\n            setError(`'${replacing.name}' edited`)\n          })\n          .catch(error => setError(error.response.data.error))\n      }\n    }\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete ${person.name}`)) {\n      personService\n        .remove(person.id)\n        .then(whatever => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          setError(`'${person.name}' was deleted`)\n        })\n        .catch(error => setError(error.response.data.error))\n    }\n  }\n\n  const rows = () =>  persons\n    .filter(p => p.name.toLowerCase().includes(filter.toLowerCase()))\n    .map(p => <div key={p.name}>{p.name} {p.number} <button onClick={() => deletePerson(p)}>Delete</button></div>)\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} />\n      <h2>Filter</h2>\n      <Filter \n        filter={filter}\n        handler={handleFilterChange}\n      />\n      <h2>Add a new</h2>\n      <Form\n        submit={addPerson}\n        name={newName}\n        nameHandler={handleNameChange}\n        number={newNumber}\n        numberHandler={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons \n        rows={rows()}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}